pipeline{
    agent any
    stages{
        stage('AWS CLI install'){
            steps '''
            curl "https://awscli.amazonaws.com/awscli-exe-linux-x86_64.zip" -o "awscliv2.zip"
            unzip awscliv2.zip
            sudo ./aws/install
            '''
        }
        stage('CF Stack Creation'){
          steps{
            sh '''
            aws --version
            aws cloudformation create-stack --stack-name EC2 --template-body file://cf.yaml --region "us-east-1"
            '''
          }  
        }
    }
}